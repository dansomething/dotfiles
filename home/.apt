#!/usr/bin/env bash
set -eou pipefail

echo "Installing APT packages..."
echo

# Install additional command-line tools using Apt.
sudo apt-get update && sudo apt-get install -y --no-install-recommends \
  build-essential \
  cmake \
  gnome-tweaks \
  urlview \
  xcape \
  xclip \
  sudo apt-get autoremove &&
  echo

# Install Hack Nerd font
hash fc-cache >/dev/null 2>&1 && {
  if fc-list | grep Hack; then
    echo "  Hack font found."
  else
    mkdir -p ~/.local/share/fonts
    pushd ~/.local/share/fonts &>/dev/null || exit
    echo "Installing Hack font..."
    curl -fsSLo "Hack Regular Nerd Font Complete.ttf" \
      https://github.com/ryanoasis/nerd-fonts/raw/master/patched-fonts/Hack/Regular/HackNerdFont-Regular.ttf
    fc-cache -f
    popd &>/dev/null || exit
  fi
  echo
}

# Gnome Terminal Jellybeans profile
echo "Installing gnome terminal config..."
hash dconf >/dev/null 2>&1 && {
  dconf load /org/gnome/terminal/legacy/profiles:/ <~/.gnome/gnome-terminal-profiles.dconf
}
echo

echo "Linux packages installed."
