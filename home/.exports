#------------------------
# Detect the OS platform
#------------------------
unamestr=$(uname)
case "$unamestr" in
    Darwin) PLATFORM='osx' ;;
    Linux) PLATFORM='linux' ;;
    *) PLATFORM='windows' ;;
esac
unset unamestr

#---------
# Exports
#---------

# Make vim the default editor
export EDITOR="vim"
# Don’t clear the screen after quitting a manual page
export MANPAGER="less -X"
# Highlight section titles in manual pages
export LESS_TERMCAP_md="$ORANGE"

# Explcit history file (don't always use bash. want shared history.)
export HISTFILE=~/.shell_history
# Larger bash history (allow 32³ entries; default is 500)
export HISTSIZE=32768
export HISTFILESIZE=$HISTSIZE
export HISTCONTROL=ignoredups
# Make some commands not show up in history
export HISTIGNORE=$'[ \t]*:&:[fb]g:exit:ls:cd:cd -:pwd:exit:date:* --help'

# Exports for all *nix platforms
if [[ "$PLATFORM" != 'windows' ]]; then
fi

# Exports for OS X
if [[ "$PLATFORM" == 'osx' ]]; then
    # Add Homebrew and VMware to the path.
    PATH="/usr/local/bin:/usr/local/sbin:/usr/local/opt/coreutils/libexec/gnubin:/Library/Application Support/VMware Fusion:$PATH"

    # Add Homebrew coreutils man pages
    export MANPATH="/usr/local/opt/coreutils/libexec/gnuman:$MANPATH"

    hash /usr/libexec/java_home >/dev/null 2>&1 && export JAVA_HOME=`/usr/libexec/java_home -v 1.8`

    # Make brew installed libraries available.
    export PYTHONPATH="/usr/local/lib/python2.7/site-packages:$PYTHONPATH"

    # Default compiler flags
    export CFLAGS="-arch x86_64"
fi
